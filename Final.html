<html>
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <style>
    .container {
      width: 80% !important;
    }
  </style>
</head>
<body>
  <h1 class="text-center mt-4">EXAMINATION RESULT</h1>
  <div class="container mt-4">
    <form class="form-control p-4" onsubmit="showResults(event)">
      <label for="regno">Student ID:</label>
      <input required class="form-control mt-2" type="text" name="regno" id="regno" placeholder="Enter your USN Number">
      <br>
      <div class="text-center">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
  <!-- Section where student results will be display-->
  <div class="container" id="results">
  </div>
</div>
</body>
<script>
function showResults(event) {
event.preventDefault()
let regno = document.getElementById('regno').value;
if (isNaN(regno)) {
alert("Please enter a valid number")
} else {
//Filtering out the user input(roll no) from GET request of the form
let form = document.forms[0];
let formData = new FormData(form);
let search = new URLSearchParams(formData);
let queryString = search.toString();
let userinput = queryString.replace('regno=', '')
//console.log(userinput);

// JSON object with marks details of the Student's
let Students = [{
"regno": 101,
"name": "Mohammed Jawad Pasha",
"english": 80,
"hindi": 67,
"physics": 75,
"chemistry": 99,
"maths": 87,
"computerscience": 87
},
{
"regno": 102,
"name": "Mohammed Juniad Pasha",
"english": 75,
"hindi": 87,
"physics": 55,
"chemistry": 49,
"maths": 47,
"computerscience": 67
},
{
"regno": 103,
"name": "Mike Tyson",
"english": 91,
"hindi": 37,
"physics": 55,
"chemistry": 89,
"maths": 67,
"computerscience": 57
},
{
"regno": 104,
"name": "Fionna Flynn",
"english": 86,
"hindi": 35,
"physics": 77,
"chemistry": 69,
"maths": 57,
"computerscience": 47
},
{
"regno": 105,
"name": "Andrew James",
"english": 95,
"hindi": 70,
"physics": 85,
"chemistry": 89,
"maths": 94,
"computerscience": 100
},
{
"regno": 106,
"name": "Jimmy Nisham",
"english": 80,
"hindi": 65,
"physics": 82,
"chemistry": 86,
"maths": 77,
"computerscience": 57
}]

//Executing a loop from the JSON object accordingly appending the DOM as per the user input (roll no)
for (let key in Students) {
if (Students[key].regno == userinput) {
document.getElementById("results").innerHTML = `      <div class="table-bordered mt-4">
<table class="table">
<tr>
<th class="table-info">Student ID:</th>
<td class="text-primary">${Students[key].regno}</td>
</tr>
<tr>
<th class="table-info">Name:</th>
<td>${Students[key].name}</td>
</tr>
<tr>
<th class="table-info">English:</th>
<td>${Students[key].english}</td>
</tr>
<tr>
<th class="table-info">Hindi:</th>
<td>${Students[key].hindi}</td>
</tr>
<tr>
<th class="table-info">Physics:</th>
<td>${Students[key].physics}</td>
</tr>
<tr>
<th class="table-info">Chemistry:</th>
<td>${Students[key].chemistry}</td>
</tr>
<tr>
<th class="table-info">Maths:</th>
<td>${Students[key].maths}</td>
</tr>
<th class="table-info">Computer science:</th>
<td>${Students[key].computerscience}</td>
</tr>
</table>
</div>
<div class="container text-center mt-4">
<h3 class="text-danger mb-2">Total marks: <span>${Students[key].english+Students[key].hindi+Students[key].physics+Students[key].chemistry+Students[key].maths+Students[key].computerscience}</span></h3><h3 class="text-success"> Percentage: <span>${
((Students[key].english+Students[key].hindi+Students[key].physics+Students[key].chemistry+Students[key].maths+Students[key].computerscience)/6).toFixed(2)+ "%"}</span></h3>
<a href="Final.html">Next result</a>`;
}
}
}
}
</script>
</html>